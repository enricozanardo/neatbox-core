(this["webpackJsonp@liskhq/lisk-framework-faucet-plugin"]=this["webpackJsonp@liskhq/lisk-framework-faucet-plugin"]||[]).push([[0],{218:function(e,a,t){},423:function(e,a){},428:function(e,a){},430:function(e,a){},462:function(e,a){},463:function(e,a){},559:function(e,a,t){"use strict";t.r(a);var n=t(19),c=t(211),r=(t(218),t(213)),s=t(38),o=t(13),i=t.n(o),l=t(81),d=t(212),p=t(9),u=t.n(p),j=t.p+"static/media/illustration.58d4feef.svg",f=t.p+"static/media/logo.8424fab8.svg",_=t(2),b=function(e){try{return 40===e.length}catch(a){return!1}},h={amount:"10000000000",applicationUrl:"ws://localhost:8080/ws",tokenPrefix:"lsk"},g=function(){var e=Object(l.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:return e.next=4,fetch("/api/config");case 4:return a=e.sent,e.next=7,a.json();case 7:return t=e.sent,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){return Object(_.jsx)("span",{className:"".concat(u.a.icon," ").concat(u.a.warning),children:"\ue8b2"})},O=function(e){return Object(_.jsx)("div",{className:"".concat(u.a.dialogRoot," ").concat(e.open?u.a.dialogOpen:u.a.dialogClose),children:Object(_.jsx)("div",{className:u.a.dialogBackground,children:Object(_.jsxs)("div",{className:u.a.dialogModal,children:[Object(_.jsxs)("div",{className:u.a.dialogHeader,children:[Object(_.jsx)("div",{className:u.a.dialogHeaderContent,children:"Success"}),Object(_.jsxs)("div",{className:u.a.iconButton,onClick:e.onClose,children:[Object(_.jsx)("span",{className:u.a.icon,children:"close"}),";"]})]}),Object(_.jsx)("div",{className:u.a.dialogBody,children:e.children})]})})})},v=function(){var e,a=n.useState(""),t=Object(s.a)(a,2),c=t[0],o=t[1],p=n.useState(""),v=Object(s.a)(p,2),m=v[0],k=v[1],w=n.useState(!1),N=Object(s.a)(w,2),y=N[0],C=N[1],M=n.useState(),S=Object(s.a)(M,2),U=S[0],B=S[1],R=n.useState(!1),A=Object(s.a)(R,2),E=A[0],H=A[1],L=n.useState(h),T=Object(s.a)(L,2),V=T[0],q=T[1];n.useEffect((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:a=e.sent,q(Object(r.a)({},a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch(console.error)}),[]),n.useEffect((function(){if(void 0===V.captchaSitekey)return function(){};var e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.async=!0,e.defer=!0,document.body.appendChild(e);var a=setInterval((function(){if("undefined"!==typeof window.grecaptcha&&"function"===typeof window.grecaptcha.render){if(clearInterval(a),E)return;window.grecaptcha.render("recapcha",{sitekey:V.captchaSitekey,callback:function(e){return B(e)}}),H(!0)}}),1e3);return function(){document.body.removeChild(e)}}),[V]);var F=function(){var e=Object(l.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==U){e.next=3;break}return k("Recaptcha must be checked."),e.abrupt("return");case 3:return e.prev=3,e.next=6,d.apiClient.createWSClient(V.applicationUrl);case 6:return a=e.sent,e.next=9,a.invoke("faucet:fundTokens",{address:c,token:U});case 9:k(""),C(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),k(null!==(t=null===e.t0||void 0===e.t0?void 0:e.t0.message)&&void 0!==t?t:"Fail to connect to server");case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{className:u.a.root,children:[Object(_.jsx)("header",{className:u.a.header,children:Object(_.jsx)("img",{src:null!==(e=V.logoURL)&&void 0!==e?e:f,className:u.a.logo,alt:"logo"})}),Object(_.jsxs)("section",{className:u.a.content,children:[Object(_.jsx)(O,{open:y,onClose:function(){o(""),C(!1)},children:Object(_.jsxs)("p",{children:["Successfully submitted to transfer funds to:",Object(_.jsx)("br",{}),c,"."]})}),Object(_.jsxs)("div",{className:u.a.main,children:[Object(_.jsx)("h1",{children:"All tokens are for testing purposes only"}),Object(_.jsxs)("h2",{children:["Please enter your address to receive ",V.amount," ",V.tokenPrefix.toLocaleUpperCase()," tokens for free"]}),Object(_.jsxs)("div",{className:u.a.inputArea,children:[Object(_.jsxs)("div",{className:u.a.input,children:[Object(_.jsx)("input",{className:"".concat(""!==m?u.a.error:""),placeholder:"6d273e3e927f2152b1f75d42aa7f59cdabaf4e07",value:c,onChange:function(e){return a=e.target.value,o(a),void(""===a&&k(""));var a}}),m?Object(_.jsx)(x,{}):Object(_.jsx)("span",{}),m?Object(_.jsx)("span",{className:u.a.errorMsg,children:m}):Object(_.jsx)("span",{})]}),Object(_.jsx)("button",{disabled:!b(c)||!E,onClick:F,children:"Receive"})]}),Object(_.jsx)("div",{id:"recapcha",className:u.a.capcha}),Object(_.jsx)("div",{className:u.a.address,children:Object(_.jsxs)("p",{children:[Object(_.jsx)("span",{className:u.a.addressLabel,children:"Faucet address:"}),Object(_.jsx)("span",{className:u.a.addressValue,children:V.faucetAddress})]})})]}),Object(_.jsx)("div",{className:u.a.background,children:Object(_.jsx)("img",{src:j,className:u.a.illustration,alt:"illustration"})})]}),Object(_.jsx)("footer",{children:Object(_.jsx)("p",{className:u.a.copyright,children:"\xa9 2021 Lisk Foundation"})})]})};c.render(Object(_.jsx)(n.StrictMode,{children:Object(_.jsx)(v,{})}),document.getElementById("root"))},9:function(e,a,t){e.exports={root:"app_root__24lUU",content:"app_content__2kvsd",inputArea:"app_inputArea__1M9jU",input:"app_input__wjfc2",error:"app_error__1hOce",errorMsg:"app_errorMsg__kqkRM",capcha:"app_capcha__2AQdW",addressLabel:"app_addressLabel__28pvE",addressValue:"app_addressValue__3Y8Gp",illustration:"app_illustration__1OMfR",copyright:"app_copyright__3y3kr",icon:"app_icon__sWt58",warning:"app_warning__1v5HE",dialogRoot:"app_dialogRoot__uskQ7",dialogBackground:"app_dialogBackground__3uRUV",dialogModal:"app_dialogModal__MYedy",dialogOpen:"app_dialogOpen__3sLEx",blowUpModal:"app_blowUpModal__3Mn0N",dialogClose:"app_dialogClose__3x81D",blowUpModalTwo:"app_blowUpModalTwo__3Dg57",dialogHeader:"app_dialogHeader__3ZeEo",dialogHeaderContent:"app_dialogHeaderContent__2R-5u",dialogBody:"app_dialogBody__1z7pj",dialogAdddress:"app_dialogAdddress__2rSn0",iconButton:"app_iconButton__4gTHB"}}},[[559,1,2]]]);
//# sourceMappingURL=main.186ad662.chunk.js.map